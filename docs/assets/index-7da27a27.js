(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();const i=Stripe("pk_test_51L1Fn6GlGJzWWZjtLSUOrxi8dWQg6y0P9IVyQYPcMZGzrzWtFEjR6FbnUYp8dSUD6cFMHv4iyetKECGOzG9IMOFI00iCyXqq1t"),c=i.paymentRequest({country:"US",currency:"usd",total:{label:"Sample Product",amount:10},requestPayerName:!0,requestPayerEmail:!0});async function u(){const e=await c.canMakePayment();if(!e||!e.applePay){const s=document.getElementById("payment-status");s&&(s.textContent="This demo requires Apple Pay. Please use a device with Apple Pay enabled.");const o=document.getElementById("payment-request-button");return o&&(o.style.display="none"),!1}const t=document.getElementById("payment-status");return t&&(t.textContent="Apple Pay is ready. Click the button above to start payment."),!0}async function p(){await u()&&i.elements().create("paymentRequestButton",{paymentRequest:c,style:{paymentRequestButton:{type:"buy",theme:"dark",height:"40px"}}}).mount("#payment-request-button")}function y(e){const t=document.getElementById("payment-status");t&&(t.textContent=`Payment Method ID created: ${e}`,t.className="payment-status success"),console.log("Payment Method ID:",e)}function l(e){const t=document.getElementById("payment-status");t&&(t.textContent=`Error: ${e.message}`,t.className="payment-status error"),console.error("Payment error:",e)}c.on("paymentmethod",async e=>{var t,s;try{const o=((s=(t=e.paymentMethod.card)==null?void 0:t.wallet)==null?void 0:s.type)==="apple_pay";if(e.paymentMethod.type!=="card"||!o)throw new Error("Only Apple Pay is accepted");const n=e.paymentMethod.id;y(n),e.complete("success")}catch(o){l(o instanceof Error?o:new Error("Unknown error")),e.complete("fail")}});p().catch(e=>{console.error("Initialization error:",e),l(e instanceof Error?e:new Error("Unknown error"))});
